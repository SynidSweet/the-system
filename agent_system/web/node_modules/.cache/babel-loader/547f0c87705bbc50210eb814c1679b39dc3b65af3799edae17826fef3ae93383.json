{"ast":null,"code":"import _objectSpread from\"/code/personal/the-system/agent_system/web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ControlPanel=_ref=>{let{systemConfig,onUpdateConfig,selectedThread,pausedTasks,onContinueTask}=_ref;const[localConfig,setLocalConfig]=useState(systemConfig);const handleMaxTasksChange=value=>{const newConfig=_objectSpread(_objectSpread({},localConfig),{},{max_parallel_tasks:parseInt(value)});setLocalConfig(newConfig);onUpdateConfig(newConfig);};const handleStepModeToggle=enabled=>{const newConfig=_objectSpread(_objectSpread({},localConfig),{},{step_mode:enabled});setLocalConfig(newConfig);onUpdateConfig(newConfig);};const handleThreadStepMode=enabled=>{const newThreads=enabled?[...localConfig.step_mode_threads,selectedThread]:localConfig.step_mode_threads.filter(id=>id!==selectedThread);const newConfig=_objectSpread(_objectSpread({},localConfig),{},{step_mode_threads:newThreads});setLocalConfig(newConfig);onUpdateConfig(newConfig);};const isThreadInStepMode=selectedThread&&(localConfig.step_mode||localConfig.step_mode_threads.includes(selectedThread));return/*#__PURE__*/_jsxs(\"div\",{className:\"control-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"System Controls\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control-section\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"control-label\",children:[\"Max Parallel Tasks\",/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"1\",max:\"10\",value:localConfig.max_parallel_tasks,onChange:e=>handleMaxTasksChange(e.target.value),className:\"slider\"}),/*#__PURE__*/_jsx(\"span\",{className:\"slider-value\",children:localConfig.max_parallel_tasks})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-section\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"control-toggle\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:localConfig.step_mode,onChange:e=>handleStepModeToggle(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{children:\"Global Step Mode\"})]}),selectedThread&&!localConfig.step_mode&&/*#__PURE__*/_jsxs(\"label\",{className:\"control-toggle\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:localConfig.step_mode_threads.includes(selectedThread),onChange:e=>handleThreadStepMode(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{children:\"Step Mode for Current Thread\"})]})]}),pausedTasks.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"control-section paused-tasks\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Paused Tasks\"}),pausedTasks.map(task=>/*#__PURE__*/_jsxs(\"div\",{className:\"paused-task\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"task-info\",children:[\"Task \",task.task_id,\" - \",task.agent_name]}),/*#__PURE__*/_jsx(\"button\",{className:\"continue-button\",onClick:()=>onContinueTask(task.task_id),children:\"Continue \\u25B6\"})]},task.task_id))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-info\",children:[isThreadInStepMode&&/*#__PURE__*/_jsx(\"div\",{className:\"info-item step-active\",children:\"\\u23F8\\uFE0F Step mode active for this thread\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[\"Press \",/*#__PURE__*/_jsx(\"kbd\",{children:\"Ctrl+Enter\"}),\" to submit new task\"]})]})]});};export default ControlPanel;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}