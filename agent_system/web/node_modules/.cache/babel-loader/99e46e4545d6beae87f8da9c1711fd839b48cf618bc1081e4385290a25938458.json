{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ThreadList=_ref=>{let{threads,selectedThread,onSelectThread,showCompleted}=_ref;const filteredThreads=threads.filter(thread=>showCompleted||!thread.root_task||thread.root_task.status!=='completed');const getThreadStatus=thread=>{var _thread$root_task,_thread$root_task2;if(((_thread$root_task=thread.root_task)===null||_thread$root_task===void 0?void 0:_thread$root_task.status)==='completed')return'✓';if(((_thread$root_task2=thread.root_task)===null||_thread$root_task2===void 0?void 0:_thread$root_task2.status)==='failed')return'✗';if(thread.has_running_tasks)return'●';return'○';};const getThreadStatusClass=thread=>{var _thread$root_task3,_thread$root_task4;if(((_thread$root_task3=thread.root_task)===null||_thread$root_task3===void 0?void 0:_thread$root_task3.status)==='completed')return'status-completed';if(((_thread$root_task4=thread.root_task)===null||_thread$root_task4===void 0?void 0:_thread$root_task4.status)==='failed')return'status-failed';if(thread.has_running_tasks)return'status-running';return'status-idle';};const formatThreadTitle=thread=>{var _thread$root_task5;const instruction=((_thread$root_task5=thread.root_task)===null||_thread$root_task5===void 0?void 0:_thread$root_task5.instruction)||'Unknown task';return instruction.length>50?\"\".concat(instruction.substring(0,50),\"...\"):instruction;};const formatTimestamp=timestamp=>{try{return new Date(timestamp).toLocaleTimeString();}catch(_unused){return'Unknown time';}};if(threads.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"thread-list\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"thread-list-header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Task Threads\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"thread-list-empty\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"No task threads yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"empty-hint\",children:\"Submit a task to get started\"})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"thread-list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"thread-list-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Task Threads\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"show-completed\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:showCompleted,onChange:e=>onSelectThread(selectedThread,e.target.checked)}),\"Show completed\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"thread-list-items\",children:filteredThreads.map(thread=>{var _thread$root_task6,_thread$root_task7;return/*#__PURE__*/_jsxs(\"div\",{className:\"thread-item \".concat(selectedThread===thread.tree_id?'selected':''),onClick:()=>onSelectThread(thread.tree_id,showCompleted),role:\"button\",tabIndex:0,onKeyDown:e=>{if(e.key==='Enter'||e.key===' '){onSelectThread(thread.tree_id,showCompleted);}},children:[/*#__PURE__*/_jsx(\"span\",{className:\"thread-status \".concat(getThreadStatusClass(thread)),children:getThreadStatus(thread)}),/*#__PURE__*/_jsxs(\"div\",{className:\"thread-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"thread-title\",title:(_thread$root_task6=thread.root_task)===null||_thread$root_task6===void 0?void 0:_thread$root_task6.instruction,children:formatThreadTitle(thread)}),/*#__PURE__*/_jsxs(\"div\",{className:\"thread-meta\",children:[thread.task_count,\" task\",thread.task_count!==1?'s':'',\" \\u2022 \",' ',(_thread$root_task7=thread.root_task)!==null&&_thread$root_task7!==void 0&&_thread$root_task7.created_at?formatTimestamp(thread.root_task.created_at):formatTimestamp(thread.last_activity)]})]})]},thread.tree_id);})}),filteredThreads.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"thread-list-filtered-empty\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"No \",showCompleted?'':'active ',\"threads to show\"]}),!showCompleted&&/*#__PURE__*/_jsx(\"p\",{className:\"empty-hint\",children:\"Check \\\"Show completed\\\" to see all threads\"})]})]});};export default ThreadList;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}