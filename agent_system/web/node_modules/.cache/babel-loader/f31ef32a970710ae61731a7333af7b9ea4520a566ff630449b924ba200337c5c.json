{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./ToolBrowser.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ToolBrowser(_ref){var _selectedTool$paramet;let{apiBaseUrl}=_ref;const[tools,setTools]=useState({});const[selectedTool,setSelectedTool]=useState(null);const[selectedCategory,setSelectedCategory]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchTools();},[]);const fetchTools=async()=>{try{const response=await fetch(\"\".concat(apiBaseUrl,\"/system/tools\"));const data=await response.json();setTools(data.tools);// Select first category and tool by default\nconst categories=Object.keys(data.tools);if(categories.length>0){const firstCategory=categories[0];setSelectedCategory(firstCategory);if(data.tools[firstCategory].length>0){setSelectedTool(data.tools[firstCategory][0]);}}setLoading(false);}catch(err){setError('Failed to load tools');setLoading(false);}};const selectTool=(tool,category)=>{setSelectedTool(tool);setSelectedCategory(category);};const renderParameters=parameters=>{if(!parameters||Object.keys(parameters).length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"no-params\",children:\"No parameters\"});}const required=parameters.required||[];const properties=parameters.properties||{};return/*#__PURE__*/_jsx(\"div\",{className:\"parameters\",children:Object.entries(properties).map(_ref2=>{let[name,schema]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"parameter\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"param-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"param-name\",children:name}),/*#__PURE__*/_jsx(\"span\",{className:\"param-type\",children:schema.type}),required.includes(name)&&/*#__PURE__*/_jsx(\"span\",{className:\"param-required\",children:\"required\"})]}),schema.description&&/*#__PURE__*/_jsx(\"div\",{className:\"param-description\",children:schema.description}),schema.enum&&/*#__PURE__*/_jsxs(\"div\",{className:\"param-enum\",children:[\"Allowed values: \",schema.enum.join(', ')]})]},name);})});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"tool-browser loading\",children:\"Loading tools...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"tool-browser\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tool-categories\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Tool Categories\"}),Object.entries(tools).map(_ref3=>{let[category,categoryTools]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"category-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"category-title\",children:category}),/*#__PURE__*/_jsx(\"div\",{className:\"tool-items\",children:categoryTools.map((tool,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"tool-item \".concat((selectedTool===null||selectedTool===void 0?void 0:selectedTool.name)===tool.name?'selected':''),onClick:()=>selectTool(tool,category),children:/*#__PURE__*/_jsx(\"div\",{className:\"tool-name\",children:tool.name})},idx))})]},category);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tool-details\",children:selectedTool?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tool-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:selectedTool.name}),/*#__PURE__*/_jsx(\"span\",{className:\"tool-category-badge\",children:selectedCategory})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"tool-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tool-description\",children:selectedTool.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Parameters\"}),renderParameters(selectedTool.parameters)]}),selectedTool.permissions&&selectedTool.permissions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"field-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Required Permissions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"permissions-list\",children:selectedTool.permissions.map((perm,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"permission-chip\",children:perm},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Usage Example\"}),/*#__PURE__*/_jsx(\"pre\",{className:\"usage-example\",children:\"await agent.call_tool(\\\"\".concat(selectedTool.name,\"\\\", {\").concat((_selectedTool$paramet=selectedTool.parameters)!==null&&_selectedTool$paramet!==void 0&&_selectedTool$paramet.properties?'\\n'+Object.entries(selectedTool.parameters.properties).map(_ref4=>{let[name,schema]=_ref4;return\"  \".concat(name,\": \").concat(schema.type==='string'?'\"example\"':schema.type==='number'?'42':schema.type==='boolean'?'true':schema.type==='array'?'[]':'{}');}).join(',\\n')+'\\n':'',\"})\")})]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"no-selection\",children:\"Select a tool to view details\"})})]});}export default ToolBrowser;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}